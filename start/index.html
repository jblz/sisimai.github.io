---
layout: document
title: Getting Started
description: Sisimai, Getting Started, System requirements, how to install, and basic usage
author: azumakuniyuki
---

<a id = 'tohash' href = '#'></a>
<header id = 'home'>
    <div class = 'main-nav'>
        <div class = 'container'>
            <div class = 'navbar-header'>
                <button type = 'button' class = 'navbar-toggle' data-toggle = 'collapse' data-target = '.navbar-collapse'>
                    <span class = 'sr-only'>Toggle navigation</span>
                    <span class = 'icon-bar'></span>
                    <span class = 'icon-bar'></span>
                    <span class = 'icon-bar'></span>
                </button>
                <a class = 'navbar-brand' href = '/'>
                    <h1>
                        <img class = 'img-responsive' src = '/static/images/logo/sisimai-logotype-w11.png' 
                            width = '144' alt = 'Sisimai: Mail Analyzing Interface'>
                    </h1>
                </a>                    
            </div>
            <div class = 'collapse navbar-collapse'>
                <ul class = 'nav navbar-nav navbar-right'>                 
                    <li class = 'scroll active'><a href = '#index'>Getting Started</a></li>
                    <li class = 'scroll'><a href = '#environment'>Environment</a></li>
                    <li class = 'scroll'><a href = '#install'>Install</a></li> 
                    <li class = 'scroll'><a href = '#usage'>Basic Usage</a></li>
                    <li class = 'others'><a href = '/docs'>Documents</a></li>
                </ul>
            </div>
        </div>
    </div> <!-- /#main-nav -->
</header> <!-- /#home -->

<section id = 'index'>
    <div class = 'container'>
        <div class = 'heading'>
            <div class = 'row'>
                <div class = 'text-center col-sm-8 col-sm-offset-2'>
                    <img src = '/static/images/logo/sisimai-x01.png' width = '20%'>
                    <h2>Getting Started</h2>
                </div>
            </div> 
        </div>
        <div class = 'text-center index-table'>
            <div class = 'row'>
                <div class = 'col-sm-4'>
                    <div class = 'index-icon'>
                        <i class = 'fa fa-desktop'></i>
                    </div>
                    <div class = 'index-info'>
                        <h3>Environment</h3>
                        <p class = 'description'>
                            <span class = 'ss'>Sisimai</span> works on any OS
                            that Perl or Ruby is available to execute except Windows.
                        </p>
                        <hr>
                        <p class = 'description ja'>
                            シシマイはPerlかRubyが動くOS(ただしWindowsを除く)で動作します。
                        </p>
                    </div>
                    <a href = '#environment' class = 'btn btn-continue'>Read</a>
                </div>
                <div class = 'col-sm-4'>
                    <div class = 'index-icon'>
                        <i class = 'fa fa-cloud-download'></i>
                    </div>
                    <div class = 'index-info'>
                        <h3>How To Install</h3>
                        <p class = 'description'>
                            <span class = 'ss'>Sisimai</span> could be downloaded and installed from CPAN,
                            RubyGems.org, and GitHub repository.
                        </p>
                        <hr>
                        <p class = 'description ja'>
                            シシマイはCPAN(Perl版)とRubyGems.org(Ruby版)、そしてGitHub(Perl版とRuby版)
                            からダウンロードできます。
                        </p>
                    </div>
                    <a href = '#install' class = 'btn btn-continue'>Read</a>
                </div>
                <div class = 'col-sm-4'>
                    <div class = 'index-icon'>
                        <i class = 'fa fa-keyboard-o'></i>
                    </div>
                    <div class = 'index-info'>
                        <h3>Basic Usage</h3>
                        <p class = 'description'>
                            Parse emails, generating structured data, and getting parsed data as JSON.
                        </p>
                        <hr>
                        <p class = 'description ja'>
                            メールの解析、構造化されたデータの取得とJSON化など
                            簡単な使い方を紹介します。
                        </p>
                    </div>
                    <a href = '#usage' class = 'btn btn-continue'>Read</a>
                </div>
            </div>
        </div>
    </div>
</section> <!-- /#index -->

<section id = 'environment' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'post-it'>
                    <i class = 'fa fa-desktop'></i>
                </div>
            </div>
            <div class = 'heading col-sm-8 col-sm-offset-0'>
                <h2 class = 'in-desc'>System Requirements</h2>
                <p class = 'description'>
                    <span class = 'ss'>Sisimai</span> can run on the system that Perl or Ruby is available
                    like the following lists, such as *BSD, Mac OS X, and Linux. 
                    However, as of the present, 
                    <a href = 'https://github.com/sisimai/p5-Sisimai/issues/53' target = 'new'>
                        <span class = 'ss'>Sisimai</span> does not work ( make test fails ) with 
                        ActivePerl and other Perl implementations on Windows.
                    </a>.
                </p>
                <hr>
                <p class = 'description ja'>
                    シシマイは*BSDやMac OS XやLinuxのようなPerlまたはRubyが動作するOSで動きます。
                    <a href = 'https://github.com/sisimai/p5-Sisimai/issues/53' target = 'new'>
                    しかしながら、現時点でWindowsでは動作しません。
                    </a>
                </p>
            </div>
        </div>
        <div class = 'text-center index-table'>
            <div class = 'row'>
                <div class = 'col-sm-4 col-sm-offset-2'>
                    <div class = 'spec-icon'>
                        <img src = '/static/images/icon/dinosaur-1.png'>
                        <h3 class = 'icon-caption'>Perl 5.10.1 or later</h3>
                    </div>
                    <div class = 'index-info'>
                        <ul class = 'spec'>
                            <li>2 External modules</li>
                            <ul>
                                <li>
                                    <a href = 'https://metacpan.org/pod/Class::Accessor::Lite' target = 'new'>
                                        Class::Accessor::Lite
                                    </a> module
                                </li>
                                <li><a href = 'https://metacpan.org/pod/JSON' target = 'new'>JSON</a> module</li>
                            </ul>
                            <li>Some core modules</li>
                            <ul>
                                <li title = 'Core module from Perl 5.9.4'>
                                    <a href = 'https://metacpan.org/pod/Module::Load' target = 'new'>Module::Load</a>
                                </li>
                                <li title = 'Core module from Perl 5.9.5'>
                                    <a href = 'https://metacpan.org/pod/Time::Piece' target = 'new'>Time::Piece</a>
                                </li>
                                <li title = 'Core module from Perl 5'>
                                    <a href = 'https://metacpan.org/pod/Time::Local' target = 'new'>Time::Local</a>
                                </li>
                            </ul>
                        </ul>
                        <a href = 'https://metacpan.org/pod/Sisimai' class = 'btn btn-continue'>Download from CPAN</a>
                    </div>
                </div>

                <div class = 'col-sm-4'>
                    <div class = 'spec-icon'>
                        <img src = '/static/images/icon/ruby-1.png'>
                        <h3 class = 'icon-caption'>Ruby 2.1.0 or later</h3>
                    </div>
                    <div class = 'index-info'>
                        <ul class = 'spec'>
                            <li>Also works on JRuby 9.0.0.0</li>
                            <li>Development dependencies</li>
                            <ul>
                                <li>
                                    <a href = 'https://rubygems.org/gems/bundler' target = 'new'>bundler</a>
                                </li>
                                <li>
                                    <a href = 'https://rubygems.org/gems/rake' target = 'new'>rake</a>
                                </li>
                                <li>
                                    <a href = 'https://rubygems.org/gems/rspec' target = 'new'>rspec</a>
                                </li>
                                <li></li>
                                <li></li>
                            </ul>
                        </ul>
                        <a href = 'https://rubygems.org/gems/sisimai' class = 'btn btn-continue'>Download from RubyGems</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section> <!-- /#environment -->

<section id = 'install'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'post-it'>
                    <i class = 'fa fa-cloud-download'></i>
                </div>
            </div>
            <div class = 'heading col-sm-8 col-sm-offset-0'>
                <h2 class = 'in-desc'>
                    Install <span class = 'ss'>Sisimai</span>
                </h2>
                <p class = 'description'>
                    <span class = 'ss'>Sisimai</span> cloud be downloaded and installed from GitHub, CPAN, and RubyGems.org .
                </p>
                <hr>
                <p class = 'description'>
                    シシマイはGitHub, CPAN, RubyGems.orgからそれぞれダウンロード・インストールが可能です。
                </p>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <h3 class = 'in-desc'>From GitHub</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/github-1.png'>
                    The latest version of <span class = 'ss'>Sisimai</span> including development version
                    and stable version is available to download from 
                    <a href = 'https://github.com/sisimai/' target = 'new'>GitHub</a> master branch.
                    Both the Perl and the Ruby version are available in the repository.
                </p>
                <hr>
                <p class = 'description ja'>
                    開発版を含む最新バージョンと安定版のシシマイは
                    <a href = 'https://github.com/sisimai/' target = 'new'>GitHub</a>
                    のmasterブランチからダウンロード出来ます。Perl版・Ruby版ともに
                    このリポジトリにあります。
                </p>
                <h4 class = 'in-desc'>Perl version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>
% <kbd>git clone https://github.com/sisimai/p5-Sisimai.git</kbd>
% <kbd>cd ./p5-Sisimai</kbd>
% <kbd>sudo make install-from-local</kbd>
--&gt; Working on .
Configuring Sisimai-4.14.2 ... OK
1 distribution installed
                </pre>
            </div>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <h4 class = 'in-desc'>Ruby version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>
% <kbd>git clone https://github.com/sisimai/rb-Sisimai.git</kbd>
% <kbd>cd ./rb-Sisimai</kbd>
% <kbd>sudo make depend install-from-local</kbd>
gem install bundle rake rspec coveralls
...
sisimai 4.14.2 built to pkg/sisimai-4.14.2.gem.
sisimai (4.14.2) installed.
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <h3 class = 'in-desc'>From CPAN</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/dinosaur-1.png'>
                    Only the stable version of <span class = 'ss'>Sisimai</span> is available to download from
                    <a href = 'https://metacpan.org/pod/Sisimai' target = 'new'>CPAN</a>.
                    You can install the software using <kbd>cpan</kbd> command, however, 
                    <a href = 'https://github.com/miyagawa/cpanminus' target = 'new'><kbd>cpanm</kbd></a>
                    command is very usefull to install the software and other Perl modules.
                </p>
                <hr>
                <p class = 'description ja'>
                    Perl版シシマイの安定版のみ
                    <a href = 'https://metacpan.org/pod/Sisimai' target = 'new'>CPAN</a>
                    からダウンロードが可能です。<kbd>cpan</kbd>コマンドでもインストール出来ますが、
                    <a href = 'https://github.com/miyagawa/cpanminus' target = 'new'><kbd>cpanm</kbd></a>
                    コマンドを使うとPerlモジュールのインストールが非常に楽です。
                </p>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <pre class = 'prettyprint'>
% <kbd>sudo cpanm Sisimai</kbd>
--&gt; Working on Sisimai
Fetching http://www.cpan.org/authors/id/A/AK/AKXLIX/Sisimai-4.14.1.tar.gz ... OK
...
1 distribution installed
% <kbd>perldoc -l Sisimai</kbd>
/usr/local/lib/perl5/site_perl/5.20.0/Sisimai.pm
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <h3 class = 'in-desc'>From RubyGems.org</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/ruby-1.png'>
                    Only the stable version of <span class = 'ss'>Sisimai</span> is available to download from
                    <a href = 'https://rubygems.org/gems/sisimai' target = 'new'>RubyGems.org</a>.
                    You can install the software using <kbd>gem</kbd> command.
                </p>
                <hr>
                <p class = 'description ja'>
                    Ruby版シシマイの安定版のみ
                    <a href = 'https://rubygems.org/gems/sisimai' target = 'new'>RubyGems.org</a>
                    からダウンロードが可能で、<kbd>gem</kbd>コマンドでインストールが出来ます。
                </p>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <pre class = 'prettyprint'>
% <kbd>sudo gem install sisimai</kbd>
Fetching: sisimai-4.14.2.gem (100%)
Successfully installed sisimai-4.14.2
Parsing documentation for sisimai-4.14.2
Installing ri documentation for sisimai-4.14.2
Done installing documentation for sisimai after 6 seconds
1 gem installed
                </pre>
            </div>
        </div>
    </div>
</section> <!-- /#install -->

<section id = 'usage' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'post-it'>
                    <i class = 'fa fa-keyboard-o'></i>
                </div>
            </div>
            <div class = 'heading col-sm-8 col-sm-offset-0'>
                <h2>Basic Usage</h2>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <h3 class = 'in-desc'>make() method of <span class = 'ss'>Sisimai</span></h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/outline-1.png'>
                    For example, the following code shows that <kbd>make()</kbd> method of 
                    <span class = 'ss'>Sisimai</span> provides feature for
                    getting parsed data from bounced email messages.
                </p>
                <hr>
                <p class = 'description ja'>
                    下記のコードは<span class = 'ss'>Sisimai</span>の<kbd>make()</kbd>
                    メソッドを使ってバウンスメールを解析し解析結果のデータを得る例です。
                </p>
                <h4 class = 'in-desc'>Perl version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>#! /usr/bin/env perl
use Sisimai;
my $v = Sisimai-&gt;make('/path/to/mbox'); # or Path to Maildir

if( defined $v ) {
    for my $e ( @$v ) {
        print $e-&gt;addresser-&gt;address;   # shironeko@example.org # From
        print $e-&gt;recipient-&gt;address;   # kijitora@example.jp   # To
        print $e-&gt;recipient-&gt;host;      # example.jp
        print $e-&gt;deliverystatus;       # 5.1.1
        print $e-&gt;replycode;            # 550
        print $e-&gt;reason;               # userunknown
    }
} else {
    # There is no bounce message in the mailbox
    # or Sisimai could not parse
}
                </pre>

                <h4 class = 'in-desc'>Ruby version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>#! /usr/bin/env ruby
require 'sisimai'
v = Sisimai.make('/path/to/mbox') # or Path to Maildir

if v.void
  # There is no bounce message in the mailbox
  # or Sisimai could not parse
else
  v.each do |e|
    puts e.addresser.address    # shironeko@example.org # From
    puts e.recipient.address    # kijitora@example.jp   # To
    puts e.recipient.host       # example.jp
    puts e.deliverystatus       # 5.1.1
    puts e.replycode            # 550
    puts e.reason               # userunknown
  end
end
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <h3 class = 'in-desc'>dump() method of <span class = 'ss'>Sisimai</span></h3>
                <p>
                    <img class = 'lhs' src = '/static/images/icon/purchase-order-1.png'>
                    Beginning with the Perl version of Sisimai v4.1.27, 
                    Sisimai-&gt;dump() method is usefull to get the parsed results as JSON.
                    The following sample code shows that usage of dump() method with a path to
                    Maildir/ you want to parse in the first argument.
                </p>
                <hr>
                <p class = 'description ja'>
                    Perl版Sisimai v4.1.27から登場した<kbd>dump()</kbd>メソッドは解析結果を
                    JSONで得るのに便利です。下記のように解析したいメールのPATHを渡すだけの
                    簡単なコードで済みます。
                </p>
                <h4 class = 'in-desc'>Perl version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>#! /usr/bin/env perl
use Sisimai;
print Sisimai-&gt;dump('~/Maildir/cur');
                </pre>

                <h4 class = 'in-desc'>Ruby version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>#! /usr/bin/env ruby
require 'sisimai'
puts Sisimai.dump('~/Maildir/cur')
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <h3 class = 'in-desc'>Filter using &quot;jq&quot; utility</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/js-1.png'>
                    If you would like to make sure of parsed results, you may want to install 
                    <a href = 'https://stedolan.github.io/jq/' target = 'new'><kbd>jq</kbd></a> utility.
                    The following command shows that &quot;jq&quot; utility will be easier to read
                    the parsed data generated by <kbd>dump()</kbd> method.
                </p>
                <hr>
                <p class = 'description ja'>
                    解析結果のJSONデータを目で確認したい場合は
                    <a href = 'https://stedolan.github.io/jq/' target = 'new'><kbd>jq</kbd></a>コマンドが便利です。
                    下記のように<kbd>dump()</kbd>メソッドの出力が読みやすく表示されます。
                </p>
                <h4 class = 'in-desc'>Perl version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>
% <kbd>perl -MSisimai -lE 'print Sisimai-&gt;dump(shift)' path/to/mbox | jq .</kbd>
                </pre>

                <h4 class = 'in-desc'>Ruby version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>
% <kbd>ruby -rsisimai -e 'puts Sisimai.dump($*.shift)' path/to/mbox | jq .</kbd>
                </pre>
                <pre class = 'prettyprint'>
[
  {
    "senderdomain": "example.jp",
    "messageid": "F9B4AEED-722D-47FD-929E-3625AF2161BB@example.jp",
    "feedbacktype": "",
    "diagnostictype": "SMTP",
    "reason": "userunknown",
    "addresser": "shironeko@example.jp",
    "subject": "[Debug:1] test",
    "token": "2357ee3ab77d120f1b028efb74b0be2ae209f49e",
    "deliverystatus": "5.1.1",
    "softbounce": 0,
    "replycode": "550",
    "diagnosticcode": "550 5.1.1 <kijitora@example.jp>... User Unknown",
    "alias": "",
    "smtpagent": "US::SendGrid",
    "action": "failed",
    "recipient": "kijitora@example.jp",
    "destination": "example.jp",
    "timestamp": 1351669672,
    "timezoneoffset": "+0900",
    "smtpcommand": "RCPT",
    "listid": "shironeko.example.jp",
    "rhost": "nijo.example.jp",
    "lhost": "o7463194126.static.reverse.sendgrid.net"
  }
]
                </pre>
            </div>
        </div>
    </div>
</section> <!-- #usage -->

